Управление параметрами
======================

Получить значение параметра:

```php
$value = Param::value($key, 'default value');
```

где, `$key` ключ параметра который состоит из: названия секции и названия
параметра разделенных точкой. Например, `Site.adminEmail`.

Добавление новых параметров
===========================

Каждый параметр это запись в таблице `config` с такими полями:

- **name** краткое название параметра (например, adminEmail как в примере выше)
- **value** начальное значение параметра
- **value_type** тип параметра (см. ниже доступные типы)
- **options** если тип параметра `TYPE_SELECT` то содержит список доступных элементов
- **title** заголовок параметра на странице настроек
- **desc** описание параметра на странице настроек
- **section** название секции (вкладки) к которой относится параметр
- **required** признак что параметр является обязательным
- **perms** список прав доступа к параметру

Типы параметров
===============

- `TYPE_INT` поле ввода целого числа
- `TYPE_NUM` поле ввода десятичного числа
- `TYPE_EMAIL` поле ввода email адреса
- `TYPE_URL` поле ввода ссылки
- `TYPE_SWITCH` переключатель (чекбокс)
- `TYPE_TEXT` текстовое поле ввода
- `TYPE_EDITOR` редактор
- `TYPE_SELECT` выпадающий список, варианты выбора содержатся в поле `options`.

Страница настроек Settings
==========================

Все параметры группируются по вкладкам (поле `section`). За работу с параметрами
отвечает класс `app\base\actions\Settings` в котором происходит рендеринг и
обработка страницы настроек.

Права доступа
=============

Поле `perms` содержит список прав доступа к параметру. Если у пользователя
нет соответствующих прав, то такой параметр будет скрыт в настройках для
изменения, но получить его значение пользователь сможет.

Право `updateSettings` доступно для администратора, модули могут добавлять
свои права.

Добавление нового параметра
===========================

Добавление параметра - создание новой модели `Config`.

```php
$test = new Config();
$test->name = 'key';
$test->title = 'Some key';
$test->section = 'MyModule';
$test->value_type = Config::TYPE_TEXT;
$test->perms = ['MyModuleAdminSettings'];
$test->save();
```

Добавляется параметр `MyModule.key` который будет отображен на вкладке `MyModule`
и который будет доступен пользователям с правом `MyModuleAdminSettings` и для
остальных скрыт.
